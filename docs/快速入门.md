# DeepAgents å¿«é€Ÿå…¥é—¨

## ğŸš€ 10 åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹

### ç¬¬ä¸€æ­¥ï¼šè¿è¡Œå­¦ä¹ ç¤ºä¾‹

æˆ‘ä¸ºä½ å‡†å¤‡äº† 4 ä¸ªå¾ªåºæ¸è¿›çš„å­¦ä¹ ç¤ºä¾‹ï¼š

```bash
# ç¤ºä¾‹ 1ï¼šåŸºç¡€ DeepAgentï¼ˆäº†è§£ todos å’Œ messagesï¼‰
pnpm run learn:1

# ç¤ºä¾‹ 2ï¼šæ–‡ä»¶ç³»ç»Ÿæ“ä½œï¼ˆäº†è§£ result.filesï¼‰
pnpm run learn:2

# ç¤ºä¾‹ 3ï¼šå­ä»£ç†ç³»ç»Ÿï¼ˆäº†è§£ä»»åŠ¡å§”æ‰˜ï¼‰
pnpm run learn:3

# ç¤ºä¾‹ 4ï¼šåç«¯ç³»ç»Ÿï¼ˆäº†è§£ä¸åŒçš„å­˜å‚¨æ–¹å¼ï¼‰
pnpm run learn:4
```

### ç¬¬äºŒæ­¥ï¼šé˜…è¯»å­¦ä¹ æŒ‡å—

ğŸ“– **å®Œæ•´å­¦ä¹ æŒ‡å—**ï¼š`docs/DEEPAGENTS_å­¦ä¹ æŒ‡å—.md`

è¿™æ˜¯ä¸€ä¸ª**60 é¡µçš„æ·±åº¦æŒ‡å—**ï¼ŒåŒ…å«ï¼š
- ğŸ“‹ ç›®å½•ç»“æ„æ¦‚è§ˆ
- ğŸ§  æ ¸å¿ƒæ¦‚å¿µè¯¦è§£
- ğŸ“ æ–‡ä»¶é€è¡Œåˆ†æ
- ğŸ’» å®æˆ˜ä»£ç ç¤ºä¾‹
- ğŸ¯ æœ€ä½³å®è·µ
- ğŸ› è°ƒè¯•æŠ€å·§
- â“ å¸¸è§é—®é¢˜è§£ç­”
- ğŸš€ è¿›é˜¶ä¸»é¢˜

### ç¬¬ä¸‰æ­¥ï¼šç†è§£æ ¸å¿ƒæ¦‚å¿µ

#### ä»€ä¹ˆæ˜¯ DeepAgentsï¼Ÿ

```
DeepAgent = åŸºç¡€æ¨¡å‹ + å·¥å…· + ä¸­é—´ä»¶ + åç«¯å­˜å‚¨
```

**å…³é”®ç‰¹æ€§**ï¼š
1. âœ… **è‡ªåŠ¨ä»»åŠ¡è§„åˆ’** - åˆ†è§£å¤æ‚ä»»åŠ¡ä¸ºå­ä»»åŠ¡
2. âœ… **å­ä»£ç†å§”æ‰˜** - å°†ä¸“é—¨ä»»åŠ¡åˆ†é…ç»™ä¸“é—¨çš„ä»£ç†
3. âœ… **æ–‡ä»¶ç³»ç»Ÿ** - å†…ç½®è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ
4. âœ… **çŠ¶æ€ç®¡ç†** - æŒä¹…åŒ–å¯¹è¯å’Œå·¥ä½œçŠ¶æ€

#### æ ¸å¿ƒç»„ä»¶

```typescript
// 1. åˆ›å»º DeepAgent
const agent = createDeepAgent({
  model: yourModel,              // åŸºç¡€ LLM
  tools: [tool1, tool2],         // å·¥å…·ï¼ˆå¯é€‰ï¼‰
  systemPrompt: "ä½ æ˜¯...",       // ç³»ç»Ÿæç¤ºè¯
  subagents: [subAgent1],        // å­ä»£ç†ï¼ˆå¯é€‰ï¼‰
  backend: yourBackend,          // å­˜å‚¨åç«¯ï¼ˆå¯é€‰ï¼‰
});

// 2. è°ƒç”¨ agent
const result = await agent.invoke({
  messages: [new HumanMessage("ä½ çš„ä»»åŠ¡")],
});

// 3. æŸ¥çœ‹ç»“æœ
console.log(result.todos);     // ä»»åŠ¡åˆ—è¡¨
console.log(result.files);     // åˆ›å»ºçš„æ–‡ä»¶
console.log(result.messages);  // å¯¹è¯å†å²
```

---

## ğŸ“š å­¦ä¹ è·¯å¾„

### åˆçº§ï¼ˆ1-2 å¤©ï¼‰

**ç›®æ ‡**ï¼šç†è§£åŸºç¡€æ¦‚å¿µï¼Œè¿è¡Œç®€å•ç¤ºä¾‹

**å­¦ä¹ å†…å®¹**ï¼š
1. è¿è¡Œ `pnpm run learn:1` - ç†è§£ todos å’Œ messages
2. è¿è¡Œ `pnpm run learn:2` - ç†è§£æ–‡ä»¶ç³»ç»Ÿ
3. é˜…è¯»å­¦ä¹ æŒ‡å—çš„"ç¬¬ä¸€éƒ¨åˆ†ï¼šæ ¸å¿ƒæ¦‚å¿µ"å’Œ"ç¬¬äºŒéƒ¨åˆ†ï¼šæ–‡ä»¶è¯¦è§£"

**å®è·µä»»åŠ¡**ï¼š
```typescript
// åˆ›å»ºä¸€ä¸ªç®€å•çš„å†™ä½œåŠ©æ‰‹
const agent = createDeepAgent({
  model: yourModel,
  systemPrompt: "ä½ æ˜¯ä¸€ä¸ªå†™ä½œåŠ©æ‰‹ï¼Œå¸®åŠ©ç”¨æˆ·åˆ›å»ºæ–‡æ¡£",
});

const result = await agent.invoke({
  messages: [new HumanMessage("å¸®æˆ‘å†™ä¸€ç¯‡å…³äº AI çš„æ–‡ç« ")],
});

console.log(result.files); // æŸ¥çœ‹åˆ›å»ºçš„æ–‡ä»¶
```

### ä¸­çº§ï¼ˆ3-5 å¤©ï¼‰

**ç›®æ ‡**ï¼šæŒæ¡å­ä»£ç†å’Œåç«¯ç³»ç»Ÿ

**å­¦ä¹ å†…å®¹**ï¼š
1. è¿è¡Œ `pnpm run learn:3` - ç†è§£å­ä»£ç†
2. è¿è¡Œ `pnpm run learn:4` - ç†è§£åç«¯
3. é˜…è¯»å­¦ä¹ æŒ‡å—çš„"ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®æˆ˜ç¤ºä¾‹"

**å®è·µä»»åŠ¡**ï¼š
```typescript
// åˆ›å»ºä¸€ä¸ªç ”ç©¶ç³»ç»Ÿ
const researchAgent: SubAgent = {
  name: "researcher",
  description: "æ·±åº¦ç ”ç©¶ä¸“å®¶",
  systemPrompt: "è¿›è¡Œæ·±å…¥ç ”ç©¶å¹¶æä¾›è¯¦ç»†æŠ¥å‘Š",
  tools: [searchTool],
};

const agent = createDeepAgent({
  model: yourModel,
  systemPrompt: "ä½ æ˜¯ç ”ç©¶åè°ƒå‘˜",
  subagents: [researchAgent],
});

const result = await agent.invoke({
  messages: [new HumanMessage("ç ”ç©¶ LangGraph æ¡†æ¶")],
});
```

### é«˜çº§ï¼ˆ1-2 å‘¨ï¼‰

**ç›®æ ‡**ï¼šæ„å»ºç”Ÿäº§çº§åº”ç”¨

**å­¦ä¹ å†…å®¹**ï¼š
1. é˜…è¯»å­¦ä¹ æŒ‡å—çš„"ç¬¬å››éƒ¨åˆ†ï¼šæœ€ä½³å®è·µ"
2. é˜…è¯»å­¦ä¹ æŒ‡å—çš„"ç¬¬ä¸ƒéƒ¨åˆ†ï¼šè¿›é˜¶ä¸»é¢˜"
3. æŸ¥çœ‹ `docs/SAAS_DEPLOYMENT.md` - SaaS éƒ¨ç½²æŒ‡å—

**å®è·µä»»åŠ¡**ï¼š
```typescript
// æ„å»ºå®Œæ•´çš„ç ”ç©¶ç³»ç»Ÿï¼ˆå¸¦æŒä¹…åŒ–ï¼‰
import { PostgresStore } from "@langchain/langgraph-checkpoint-postgres";
import { StoreBackend } from "./src/deepagents/backends";

const store = new PostgresStore({
  connectionString: process.env.DATABASE_URL,
});

const agent = createDeepAgent({
  model: yourModel,
  systemPrompt: "...",
  subagents: [researchAgent, critiqueAgent],
  backend: (config) => new StoreBackend({
    namespace: ["sessions", userId, sessionId],
    store: config.store || store,
  }),
  store: store,
});
```

---

## ğŸ¯ å…³é”®æ–‡ä»¶è¯´æ˜

### å¿…è¯»æ–‡ä»¶

```
src/deepagents/
â”œâ”€â”€ agent.ts                 â­ æ ¸å¿ƒå…¥å£ï¼Œåˆ›å»º DeepAgent
â”œâ”€â”€ index.ts                 ğŸ“¦ å¯¼å‡ºæ‰€æœ‰ API
â”œâ”€â”€ middleware/
â”‚   â”œâ”€â”€ fs.ts               ğŸ“ æ–‡ä»¶ç³»ç»Ÿå·¥å…·
â”‚   â””â”€â”€ subagents.ts        ğŸ¤– å­ä»£ç†ç³»ç»Ÿ
â””â”€â”€ backends/
    â”œâ”€â”€ protocol.ts         ğŸ“‹ åç«¯æ¥å£å®šä¹‰
    â”œâ”€â”€ state.ts            ğŸ’¾ å†…å­˜åç«¯ï¼ˆé»˜è®¤ï¼‰
    â”œâ”€â”€ filesystem.ts       ğŸ’¿ ç£ç›˜åç«¯
    â””â”€â”€ store.ts            ğŸ—„ï¸ æ•°æ®åº“åç«¯
```

### æ–‡æ¡£æ–‡ä»¶

```
docs/
â”œâ”€â”€ DEEPAGENTS_å­¦ä¹ æŒ‡å—.md        â­ å®Œæ•´å­¦ä¹ æŒ‡å—ï¼ˆå¿…è¯»ï¼‰
â”œâ”€â”€ å¿«é€Ÿå…¥é—¨.md                   ğŸš€ æœ¬æ–‡ä»¶
â”œâ”€â”€ DEEPAGENTS_QUICK_REFERENCE.md  ğŸ“‹ å¿«é€Ÿå‚è€ƒï¼ˆè‹±æ–‡ï¼‰
â”œâ”€â”€ HOW_DEEPAGENTS_WORK.md        ğŸ” å·¥ä½œåŸç†ï¼ˆè‹±æ–‡ï¼‰
â”œâ”€â”€ SAAS_DEPLOYMENT.md            â˜ï¸ SaaS éƒ¨ç½²æŒ‡å—
â””â”€â”€ LANGGRAPH_PATCH.md            ğŸ”§ LangGraph è¡¥ä¸è¯´æ˜
```

### ç¤ºä¾‹æ–‡ä»¶

```
examples/
â”œâ”€â”€ learning-01-basic.ts          ğŸ“ ç¤ºä¾‹ 1ï¼šåŸºç¡€
â”œâ”€â”€ learning-02-filesystem.ts     ğŸ“ ç¤ºä¾‹ 2ï¼šæ–‡ä»¶ç³»ç»Ÿ
â”œâ”€â”€ learning-03-subagents.ts      ğŸ¤– ç¤ºä¾‹ 3ï¼šå­ä»£ç†
â””â”€â”€ learning-04-backends.ts       ğŸ’¾ ç¤ºä¾‹ 4ï¼šåç«¯
```

---

## ğŸ’¡ å¸¸è§é—®é¢˜é€ŸæŸ¥

### Q1: DeepAgent å’Œæ™®é€š Agent æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**æ™®é€š Agent**ï¼š
- çº¿æ€§æ‰§è¡Œ
- å•ä¸€æ¨¡å‹
- æœ‰é™çš„çŠ¶æ€ç®¡ç†

**DeepAgent**ï¼š
- âœ… è‡ªåŠ¨ä»»åŠ¡è§„åˆ’ï¼ˆtodosï¼‰
- âœ… å¤šå±‚çº§ä»£ç†ï¼ˆsubagentsï¼‰
- âœ… è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆfilesï¼‰
- âœ… çµæ´»çš„å­˜å‚¨åç«¯

### Q2: ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å­ä»£ç†ï¼Ÿ

ä½¿ç”¨å­ä»£ç†å½“ï¼š
- âœ… ä»»åŠ¡å¤æ‚ï¼Œéœ€è¦å¤šä¸ªæ­¥éª¤
- âœ… éœ€è¦ä¸“é—¨çš„å·¥å…·æˆ–çŸ¥è¯†
- âœ… å¯ä»¥å¹¶è¡Œæ‰§è¡Œçš„ç‹¬ç«‹ä»»åŠ¡
- âœ… éœ€è¦éš”ç¦»ä¸Šä¸‹æ–‡ï¼ˆä¸å…±äº«ä¸»ä»£ç†çš„å†å²ï¼‰

### Q3: å¦‚ä½•é€‰æ‹©åç«¯ï¼Ÿ

```typescript
// å¼€å‘/æµ‹è¯•
é»˜è®¤ï¼ˆStateBackendï¼‰// å†…å­˜å­˜å‚¨

// æœ¬åœ°è°ƒè¯•
new FilesystemBackend({ root: "./files" })

// ç”Ÿäº§ç¯å¢ƒ
new StoreBackend({ namespace: [...], store: postgresStore })
```

### Q4: æ–‡ä»¶å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ

å–å†³äºåç«¯ï¼š
- **StateBackend**: `result.files` å¯¹è±¡ï¼ˆå†…å­˜ï¼‰
- **FilesystemBackend**: ç£ç›˜æ–‡ä»¶
- **StoreBackend**: æ•°æ®åº“

### Q5: å¦‚ä½•åœ¨ä»£ç ä¸­è®¿é—®æ–‡ä»¶ï¼Ÿ

```typescript
const result = await agent.invoke({...});

// è·å–æ–‡ä»¶å†…å®¹
const fileData = result.files['/report.md'];
const content = fileData.content.join('\n');

// FileData ç»“æ„
interface FileData {
  content: string[];      // æŒ‰è¡Œå­˜å‚¨
  created_at: string;     // åˆ›å»ºæ—¶é—´
  modified_at: string;    // ä¿®æ”¹æ—¶é—´
}
```

---

## ğŸ“ ä¸‹ä¸€æ­¥

1. âœ… è¿è¡Œæ‰€æœ‰ 4 ä¸ªå­¦ä¹ ç¤ºä¾‹
2. âœ… é˜…è¯»å®Œæ•´å­¦ä¹ æŒ‡å—
3. âœ… å°è¯•ä¿®æ”¹ç¤ºä¾‹ä»£ç 
4. âœ… æ„å»ºè‡ªå·±çš„ç¬¬ä¸€ä¸ª DeepAgent

**æ¨èé¡ºåº**ï¼š
```
1. å¿«é€Ÿå…¥é—¨ï¼ˆæœ¬æ–‡ï¼‰
2. è¿è¡Œå­¦ä¹ ç¤ºä¾‹
3. DEEPAGENTS_å­¦ä¹ æŒ‡å—.mdï¼ˆè¯¦ç»†é˜…è¯»ï¼‰
4. å®é™…é¡¹ç›®ç»ƒä¹ 
```

---

## ğŸ“ è·å–å¸®åŠ©

- ğŸ“– æŸ¥çœ‹å®Œæ•´æ–‡æ¡£ï¼š`docs/DEEPAGENTS_å­¦ä¹ æŒ‡å—.md`
- ğŸ’» æŸ¥çœ‹ä»£ç ç¤ºä¾‹ï¼š`examples/learning-*.ts`
- ğŸ” æŸ¥çœ‹æºç ï¼š`src/deepagents/`

ç¥å­¦ä¹ æ„‰å¿«ï¼ğŸ‰
